import{t as f,a as d,c as D}from"../chunks/_-hrNojG.js";import{m as ta,a2 as ya,B as pa,a3 as wa,X as ka,a0 as G,_ as v,s as u,g as a,Z as Na,d as j,$ as c,y as la,f as X,Y as T}from"../chunks/-0xMANws.js";import{l as Pa,d as Aa,s as U}from"../chunks/CHYSFP-A.js";import{i as A}from"../chunks/D2j1xl2H.js";import{r as Ca,e as $,s as na,i as ia}from"../chunks/B2gE4eL6.js";import{p as V}from"../chunks/B5JkUXHv.js";import{o as Ma}from"../chunks/DNhBMxFD.js";function H(e,t,n){var r=e.__className,o=La(t);ta&&e.className===o?e.__className=o:(r!==o||ta&&e.className!==o)&&(t==null?e.removeAttribute("class"):e.className=o,e.__className=o)}function La(e,t){return(e??"")+""}function Sa(e,t,n=t){var r=ya();Pa(e,"input",o=>{var l=o?e.defaultValue:e.value;if(l=aa(e)?ea(l):l,n(l),r&&l!==(l=t())){var Y=e.selectionStart,C=e.selectionEnd;e.value=l??"",C!==null&&(e.selectionStart=Y,e.selectionEnd=Math.min(C,e.value.length))}}),(ta&&e.defaultValue!==e.value||pa(t)==null&&e.value)&&n(aa(e)?ea(e.value):e.value),wa(()=>{var o=t();aa(e)&&o===ea(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function aa(e){var t=e.type;return t==="number"||t==="range"}function ea(e){return e===""?null:+e}function da(e,t,n){j(t,1),n()}var ja=f('<div class="col-span-full py-12 text-center"><div class="inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-green-500 border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"></div> <p class="mt-4 text-lg text-gray-600">Loading products...</p></div>'),Ba=f('<div class="col-span-full py-12 text-center"><p class="text-lg text-gray-600">No products found. Try a different search term.</p></div>'),Ea=f('<div class="overflow-hidden rounded-lg border border-gray-200 shadow-md transition-transform duration-200 hover:-translate-y-1 hover:shadow-lg"><div class="relative"><img class="h-64 w-full object-cover"></div> <div class="p-4"><h2 class="mb-2 text-xl font-semibold"> </h2> <p class="mb-2 text-sm text-gray-500"> </p> <p class="line-clamp-3 text-gray-700"> </p></div></div>'),Ia=(e,t,n)=>t(a(n)-1),Ta=f("<button></button>"),Ua=(e,t)=>t(1),Va=f('<span class="px-1">...</span>'),qa=f("<button> </button>"),za=f('<span class="px-1">...</span>'),Fa=(e,t,n)=>t(a(n)),Qa=f("<button>1</button> <!> <!> <!> <button> </button>",1),Xa=(e,t,n)=>t(a(n)+1),Ya=f('<div class="mt-12 flex items-center justify-center space-x-2"><button class="rounded border border-gray-300 px-3 py-1 disabled:cursor-not-allowed disabled:opacity-50">Previous</button> <!> <button class="rounded border border-gray-300 px-3 py-1 disabled:cursor-not-allowed disabled:opacity-50">Next</button></div>'),Za=f('<div class="mt-4 text-center text-sm text-gray-500"> </div>'),Da=f('<div class="container mx-auto px-4 py-8"><div class="mb-8"><div class="relative mx-auto max-w-md"><input type="text" placeholder="Search products..." class="w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-green-500 focus:ring-2 focus:ring-green-500"> <button class="absolute top-1/2 right-2 -translate-y-1/2 p-2 text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button></div></div> <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"><!></div> <!> <!></div>');function $a(e,t){ka(t,!0);let n=G(""),r=G(1),o=10,l=G(V([])),Y=V({}),C=G(!0);Ma(()=>{t.data.catalog&&Array.isArray(t.data.catalog)?(t.data.catalog.forEach(s=>{Y[s.id]=0}),J(),j(C,!1)):console.error("Catalog data is not available or not in expected format",t.data)});function J(){if(!t.data.catalog||!Array.isArray(t.data.catalog)){j(l,V([]));return}if(!a(n).trim())j(l,V([...t.data.catalog]));else{const s=a(n).toLowerCase();j(l,V(t.data.catalog.filter(i=>{var m,x,w;return((m=i.title)==null?void 0:m.toLowerCase().includes(s))||((x=i.description)==null?void 0:x.toLowerCase().includes(s))||((w=i.brand)==null?void 0:w.toLowerCase().includes(s))})))}}const b=la(()=>Math.ceil(a(l).length/o)),ra=la(()=>a(l).slice((a(r)-1)*o,a(r)*o));function B(s){s>=1&&s<=a(b)&&j(r,V(s))}var K=Da(),O=v(K),sa=v(O),Z=v(sa);Ca(Z),Z.__input=[da,r,J];var va=u(Z,2);va.__click=[da,r,J],c(sa),c(O);var R=u(O,2),ca=v(R);{var _a=s=>{var i=ja();d(s,i)},ua=s=>{var i=D(),m=X(i);{var x=k=>{var M=Ba();d(k,M)},w=k=>{var M=D(),N=X(M);$(N,17,()=>a(ra),y=>y.id,(y,_)=>{var P=Ea(),E=v(P),p=v(E);c(E);var h=u(E,2),q=v(h),I=v(q,!0);c(q);var z=u(q,2),g=v(z);c(z);var L=u(z,2),S=v(L,!0);c(L),c(h),c(P),T(()=>{var F;na(p,"src",((F=a(_).images)==null?void 0:F[Y[a(_).id]||0])||""),na(p,"alt",a(_).title),U(I,a(_).title||"Untitled Product"),U(g,`${a(_).brand||"Unknown Brand"} - Model ${a(_).model||"N/A"}`),U(S,a(_).description||"No description available")}),d(y,P)}),d(k,M)};A(m,k=>{a(ra).length===0?k(x):k(w,!1)},!0)}d(s,i)};A(ca,s=>{a(C)?s(_a):s(ua,!1)})}c(R);var oa=u(R,2);{var ga=s=>{var i=Ya(),m=v(i);m.__click=[Ia,B,r];var x=u(m,2);{var w=N=>{var y=D(),_=X(y);$(_,17,()=>Array(a(b)),ia,(P,E,p)=>{var h=Ta();h.__click=()=>B(p+1),h.textContent=p+1,T(()=>H(h,`h-8 w-8 rounded-full ${a(r)===p+1?"bg-green-500 text-white":"bg-gray-100 hover:bg-gray-200"}`)),d(P,h)}),d(N,y)},k=N=>{var y=Qa(),_=X(y);_.__click=[Ua,B];var P=u(_,2);{var E=g=>{var L=Va();d(g,L)};A(P,g=>{a(r)>3&&g(E)})}var p=u(P,2);$(p,16,()=>Array(3),ia,(g,L,S)=>{var F=D(),ma=X(F);{var ha=W=>{var Q=qa();Q.__click=()=>B(a(r)-1+S);var xa=v(Q,!0);c(Q),T(()=>{H(Q,`h-8 w-8 rounded-full ${a(r)===a(r)-1+S?"bg-green-500 text-white":"bg-gray-100 hover:bg-gray-200"}`),U(xa,a(r)-1+S)}),d(W,Q)};A(ma,W=>{a(r)-1+S>1&&a(r)-1+S<a(b)&&W(ha)})}d(g,F)});var h=u(p,2);{var q=g=>{var L=za();d(g,L)};A(h,g=>{a(r)<a(b)-2&&g(q)})}var I=u(h,2);I.__click=[Fa,B,b];var z=v(I,!0);c(I),T(()=>{H(_,`h-8 w-8 rounded-full ${a(r)===1?"bg-green-500 text-white":"bg-gray-100 hover:bg-gray-200"}`),H(I,`h-8 w-8 rounded-full ${a(r)===a(b)?"bg-green-500 text-white":"bg-gray-100 hover:bg-gray-200"}`),U(z,a(b))}),d(N,y)};A(x,N=>{a(b)<=7?N(w):N(k,!1)})}var M=u(x,2);M.__click=[Xa,B,r],c(i),T(()=>{m.disabled=a(r)===1,M.disabled=a(r)===a(b)}),d(s,i)};A(oa,s=>{a(b)>1&&!a(C)&&s(ga)})}var fa=u(oa,2);{var ba=s=>{var i=Za(),m=v(i);c(i),T((x,w)=>U(m,`Showing ${x??""} to ${w??""} of ${a(l).length??""} products`),[()=>Math.min((a(r)-1)*o+1,a(l).length),()=>Math.min(a(r)*o,a(l).length)]),d(s,i)};A(fa,s=>{!a(C)&&a(l).length>0&&s(ba)})}c(K),Sa(Z,()=>a(n),s=>j(n,s)),d(e,K),Na()}Aa(["input","click"]);export{$a as component};
